<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player 174 | The Protagonist</title>
    
    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Comic+Neue:ital,wght@0,400;0,700;1,400&family=Permanent+Marker&family=Tiro+Bangla:ital@0;1&display=swap" rel="stylesheet">

    <!-- LIBRARIES -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- CONFIG -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'hero-yellow': '#F9E216',
                        'hero-red': '#E63946',
                        'hero-blue': '#457B9D',
                        'hero-dark': '#1D3557',
                        'ink-black': '#0a0a0a',
                        'off-white': '#f8f9fa',
                    },
                    fontFamily: {
                        'display': ['Bangers', 'cursive'],
                        'body': ['Comic Neue', 'cursive'],
                        'bengali': ['Tiro Bangla', 'serif'],
                        'hand': ['Permanent Marker', 'cursive'],
                    },
                    boxShadow: {
                        'comic': '4px 4px 0px 0px #0a0a0a',
                        'comic-lg': '8px 8px 0px 0px #0a0a0a',
                    },
                    screens: {
                        'xs': '400px',
                    }
                }
            }
        }
    </script>

    <style>
        /* CORE SETTINGS */
        body {
            background-color: #f0f0f0;
            color: #0a0a0a;
            background-size: 20px 20px;
            background-image: radial-gradient(#d1d5db 1px, transparent 1px); 
        }

        /* SCROLL LOCK CLASS */
        body.is-locked {
            overflow: hidden !important;
            height: 100vh;
            width: 100vw;
            position: fixed;
        }

        /* TRANSITION OVERLAY (For Fade to Black) */
        #transition-overlay {
            position: fixed;
            inset: 0;
            background-color: black;
            z-index: 10000;
            pointer-events: none;
            opacity: 0;
        }

        /* SPLASH SCREEN - ABSOLUTE POSITIONING TO FIX SCROLL */
        #splash-screen {
            position: fixed;
            inset: 0;
            z-index: 9999;
            background-image: radial-gradient(circle at center, #1a1a1a 0%, #000 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            width: 100vw;
            height: 100vh;
        }

        /* COMIC PANEL */
        .panel {
            background: white;
            border: 3px solid #0a0a0a;
            box-shadow: 6px 6px 0px #0a0a0a;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        @media (hover: hover) {
            .panel:hover {
                transform: translateY(-5px) scale(1.01);
                box-shadow: 10px 10px 0px #0a0a0a;
                z-index: 10;
            }
            .panel:hover .panel-image {
                transform: scale(1.05);
                filter: grayscale(0%) contrast(120%);
            }
        }

        .panel-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
            filter: grayscale(20%) contrast(110%);
        }

        /* TYPOGRAPHY */
        .text-stroke {
            -webkit-text-stroke: 1px #0a0a0a;
            color: white;
            text-shadow: 2px 2px 0px #0a0a0a;
        }
        @media (min-width: 768px) {
            .text-stroke {
                -webkit-text-stroke: 2px #0a0a0a;
                text-shadow: 4px 4px 0px #0a0a0a;
            }
        }

        /* SPEECH BUBBLE */
        .bubble {
            background: white;
            border: 3px solid #0a0a0a;
            border-radius: 20px;
            padding: 1rem;
            position: relative;
            box-shadow: 4px 4px 0px rgba(0,0,0,0.1);
        }
        .bubble::after {
            content: '';
            position: absolute;
            bottom: -14px;
            left: 20px;
            border-width: 15px 15px 0;
            border-style: solid;
            border-color: #0a0a0a transparent;
            display: block;
            width: 0;
        }
        .bubble::before {
            content: '';
            position: absolute;
            bottom: -9px;
            left: 23px;
            border-width: 12px 12px 0;
            border-style: solid;
            border-color: white transparent;
            display: block;
            width: 0;
            z-index: 1;
        }

        /* ANIMATIONS */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-6px); }
        }
        .animate-float {
            animation: float 5s ease-in-out infinite;
        }
    </style>
</head>
<body class="font-body selection:bg-hero-yellow selection:text-black pb-20 is-locked">

    <!-- AUDIO PLAYER -->
    <audio id="bg-music" loop preload="auto">
        <source src="../music/174.mp3" type="audio/mpeg">
    </audio>

    <!-- GLOBAL TRANSITION OVERLAY -->
    <div id="transition-overlay"></div>

    <!-- SPLASH SCREEN (OPENING) - FULLSCREEN FIXED -->
    <div id="splash-screen">
        <div class="relative z-10 text-center p-6 w-full max-w-2xl">
             <!-- Scaled down font for mobile -->
             <div class="font-display text-hero-yellow text-6xl md:text-9xl leading-none mb-4 drop-shadow-[5px_5px_0_#E63946] opacity-0 splash-item text-stroke transform transition-transform duration-300 hover:scale-105">
                ISSUE<br>#174
            </div>
            <div class="font-hand text-white text-xl md:text-3xl mb-8 opacity-0 splash-item rotate-[-2deg]">
                The Origin Story
            </div>
            
            <div class="relative group opacity-0 splash-item inline-block">
                <div class="absolute inset-0 bg-white rotate-3 group-hover:rotate-6 transition-transform"></div>
                <div class="relative bg-hero-red text-white border-4 border-black px-6 py-3 md:px-8 md:py-4 font-display text-2xl md:text-4xl shadow-comic group-hover:-translate-y-1 transition-transform">
                    CLICK TO OPEN
                </div>
            </div>
        </div>

        <!-- Decorative BG Elements -->
        <div class="absolute inset-0 z-0 opacity-20 bg-[radial-gradient(#fff_1px,transparent_1px)] bg-[length:30px_30px]"></div>
    </div>

    <!-- NAV (Uses explicit event passing) -->
    <nav class="fixed top-4 right-4 z-50 flex gap-2 md:gap-4">
        <button onclick="handleExit(event, '../gallery.html')" class="bg-white border-2 md:border-4 border-black px-3 py-1 md:px-4 md:py-2 font-display text-lg md:text-xl hover:bg-hero-yellow transition-all shadow-comic cursor-pointer">
            GALLERY
        </button>
        <button onclick="handleExit(event, '../index.html')" class="bg-hero-red text-white border-2 md:border-4 border-black px-3 py-1 md:px-4 md:py-2 font-display text-lg md:text-xl hover:bg-black transition-all shadow-comic cursor-pointer">
            EXIT
        </button>
    </nav>

    <!-- HERO SECTION -->
    <header class="min-h-screen flex flex-col justify-center pt-24 pb-12 px-4 relative overflow-hidden">
        
        <div class="max-w-7xl w-full mx-auto grid grid-cols-1 md:grid-cols-12 gap-8 md:gap-12 relative z-10">
            
            <!-- LEFT: INTRO TEXT -->
            <div class="md:col-span-5 flex flex-col justify-center order-2 md:order-1">
                <div class="bg-hero-yellow border-2 border-black p-1 px-3 inline-block w-fit rotate-[-2deg] mb-4 shadow-comic">
                    <span class="font-display text-xl md:text-2xl">ISSUE #174</span>
                </div>
                
                <h1 class="font-display text-6xl xs:text-7xl md:text-9xl leading-[0.9] mb-4 text-stroke">
                    KA<br><span class="text-hero-red">JAWAD</span>
                </h1>
                
                <div class="panel p-4 md:p-6 bg-white rotate-1 mb-6 md:mb-8">
                    <h2 class="font-bengali text-2xl md:text-3xl font-bold mb-2">(‡¶ï‡ßá ‡¶è ‡¶ú‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶¶)</h2>
                    <div class="flex flex-wrap gap-2 font-hand text-xs md:text-sm mt-2">
                        <span class="bg-black text-white px-2 py-1 -rotate-1">Roll: 174</span>
                        <span class="bg-hero-blue text-white px-2 py-1 rotate-2">Class: Swordsman</span>
                    </div>
                </div>

                <div class="bubble animate-float max-w-sm ml-2 md:ml-4">
                    <p class="font-bengali text-lg md:text-xl text-gray-800 leading-relaxed">
                        "‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ö‡¶≤‡¶∏ ‡¶®‡¶æ‚Äî ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∂‡ßá‡¶∑ ‡¶Æ‡ßÅ‡¶π‡ßÅ‡¶∞‡ßç‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡ßç‡¶Æ ‡¶ï‡¶∞‡¶ø‡•§"
                    </p>
                </div>
            </div>

            <!-- RIGHT: HERO IMAGE -->
            <div class="md:col-span-7 order-1 md:order-2 relative h-[40vh] md:h-[70vh] mb-4 md:mb-0">
                <div class="absolute inset-0 bg-hero-dark transform translate-x-2 translate-y-2 md:translate-x-4 md:translate-y-4 border-2 md:border-4 border-black"></div>
                <div class="absolute inset-0 border-2 md:border-4 border-black bg-white overflow-hidden">
                    <img src="../images/174/main.jpg" 
                         onerror="this.src='https://images.unsplash.com/photo-1515536765-9b2a740fa331?q=80&w=2070&auto=format&fit=crop'" 
                         class="w-full h-full object-cover filter contrast-125"
                         alt="Hero Portrait">
                    
                    <div class="absolute top-0 left-0 bg-hero-yellow border-r-2 border-b-2 md:border-r-4 md:border-b-4 border-black p-2 md:p-4">
                        <p class="font-display text-lg md:text-xl leading-none">THE<br>PROTAGONIST</p>
                    </div>
                </div>
            </div>

        </div>
    </header>

    <!-- TEAR DIVIDER -->
    <div class="relative h-12 md:h-16 w-full overflow-hidden my-8">
        <div class="absolute inset-0 bg-black transform skew-y-2 translate-y-6 md:translate-y-8"></div>
        <div class="absolute inset-0 bg-hero-red transform skew-y-[-2deg] translate-y-8 md:translate-y-10 border-t-4 border-black"></div>
    </div>

    <!-- MAIN CONTENT -->
    <main class="max-w-7xl mx-auto px-4 py-8 md:py-16">
        
        <!-- SECTION TITLE -->
        <div class="flex items-center gap-3 md:gap-4 mb-8 md:mb-12 trigger-block">
            <div class="w-10 h-10 md:w-12 md:h-12 bg-black text-white flex items-center justify-center font-display text-xl md:text-2xl border-2 border-white shadow-lg">01</div>
            <h2 class="font-display text-4xl md:text-6xl text-stroke text-black">THE ORIGIN ARC</h2>
        </div>

        <!-- COMIC GRID -->
        <div class="grid grid-cols-1 md:grid-cols-12 gap-6 md:gap-8 mb-24">
            
            <!-- Text Block -->
            <div class="md:col-span-5 panel p-6 md:p-8 flex flex-col justify-between trigger-block">
                <div class="bg-hero-yellow border-2 border-black px-2 py-1 font-display text-xs md:text-sm self-start mb-4">CAPTION</div>
                <h3 class="font-bengali text-2xl md:text-3xl font-bold mb-4">‡¶ï‡¶≤‡ßá‡¶ú ‡¶≤‡¶æ‡¶á‡¶´ ‡¶ö‡¶≤‡¶õ‡ßá...</h3>
                <p class="font-bengali text-lg md:text-xl leading-loose text-gray-700">
                    ‡¶∏‡¶ï‡¶æ‡¶≤‡¶¨‡ßá‡¶≤‡¶æ ‡¶¶‡ßá‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá ‡¶ò‡ßÅ‡¶Æ ‡¶•‡ßá‡¶ï‡ßá ‡¶ì‡¶†‡¶æ, ‡¶¶‡ßå‡¶°‡¶º‡ßá ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏‡ßá ‡¶¢‡ßã‡¶ï‡¶æ, ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏‡ßá ‡¶¨‡¶∏‡ßá ‡¶´‡ßã‡¶® ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶≤ ‡¶ï‡¶∞‡¶æ, ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶ü‡¶ø‡¶®‡ßá ‡¶ö‡¶æ ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶≤‡¶æ‡¶á‡¶´ ‡¶°‡¶ø‡¶∏‡¶ï‡¶æ‡¶∂‡¶®‡•§ ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶π‡¶†‡¶æ‡ßé ‡¶∏‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶∏ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ...
                </p>
                <div class="mt-6 font-hand text-right text-hero-red">- Narrator</div>
            </div>

            <!-- Image Block -->
            <div class="md:col-span-7 panel h-64 xs:h-80 md:h-auto trigger-block">
                <img src="../images/174/friends2.jpg" 
                     onerror="this.src='https://images.unsplash.com/photo-1529156069898-49953e39b3ac?q=80&w=2532&auto=format&fit=crop'"
                     class="panel-image">
                <div class="absolute bottom-2 right-2 md:bottom-4 md:right-4 bg-white border-2 border-black px-2 md:px-3 font-display text-xl md:text-2xl -rotate-2">
                    SQUAD
                </div>
            </div>

            <!-- Wide Cinematic Block -->
            <div class="md:col-span-12 panel h-48 md:h-64 trigger-block mt-4 md:mt-0">
                <div class="absolute inset-0 bg-hero-dark mix-blend-multiply opacity-50 z-10 pointer-events-none"></div>
                <img src="../images/174/friends_blurry.jpg" 
                     onerror="this.src='https://images.unsplash.com/photo-1499540633125-484965b60031?q=80&w=2071&auto=format&fit=crop'"
                     class="panel-image object-top">
                <div class="absolute inset-0 flex items-center justify-center z-20">
                    <h2 class="font-display text-4xl md:text-6xl text-white drop-shadow-[4px_4px_0_#000] italic">
                        MEANWHILE...
                    </h2>
                </div>
            </div>

        </div>


        <!-- SECTION: THE PREMONITION -->
        <div class="relative py-8 md:py-12 my-12">
            <!-- Background Slant -->
            <div class="absolute inset-0 bg-hero-blue transform -skew-y-2 md:-skew-y-3 z-0 border-y-4 border-black"></div>
            
            <div class="relative z-10 grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center">
                
                <!-- Left: Text -->
                <div class="panel p-6 md:p-8 md:rotate-2 trigger-block bg-off-white">
                    <div class="flex justify-between items-center mb-6 border-b-4 border-black pb-2">
                        <h3 class="font-display text-2xl md:text-3xl">NEXT EPISODE</h3>
                        <i data-lucide="zap" class="w-6 h-6 md:w-8 md:h-8 fill-hero-yellow text-black"></i>
                    </div>
                    
                    <ul class="space-y-4 font-bengali text-base md:text-lg list-none">
                        <li class="flex gap-3 items-start">
                            <span class="text-xl">üí•</span>
                            <span>‡¶π‡¶†‡¶æ‡ßé ‡¶ï‡¶∞‡ßá ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶Ü‡¶∞ ‚Äò‡¶Ü‡¶ú ‡¶™‡¶°‡¶º‡¶ø‡¶®‡¶ø‚Äô ‡¶Ö‡¶ú‡ßÅ‡¶π‡¶æ‡¶§</span>
                        </li>
                        <li class="flex gap-3 items-start">
                            <span class="text-xl">üåô</span>
                            <span>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶æ‡¶á‡¶®‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü‡ßá‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶∞‡¶æ‡¶§‡ßá ‡¶Ö‡¶≤-‡¶®‡¶æ‡¶á‡¶ü‡¶æ‡¶∞</span>
                        </li>
                    </ul>

                    <div class="mt-6 bg-black p-3 md:p-4 text-white -mx-6 md:-mx-8 -mb-6 md:-mb-8">
                        <p class="font-bengali text-center text-lg md:text-xl">
                            "‡¶∏‡ßá‡¶Æ‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶∂‡ßá‡¶∑‡ßá ‡¶¨‡ßÅ‡¶ù‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶æ‚Äî‡¶ï‡¶≤‡ßá‡¶ú ‡¶≤‡¶æ‡¶á‡¶´ ‡¶Ü‡¶∏‡¶≤‡ßá ‡¶∂‡ßá‡¶∑ ‡¶®‡¶æ, ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶≤‡ßá‡¶≠‡ßá‡¶≤ ‡¶Ü‡¶™ ‡¶π‡¶Ø‡¶º‡•§"
                        </p>
                    </div>
                </div>

                <!-- Right: Visual Chaos (Stacked for Mobile) -->
                <div class="relative h-[300px] md:h-[400px] trigger-block mx-auto w-full max-w-sm md:max-w-none">
                    <!-- Card 1 -->
                    <div class="absolute top-0 right-4 md:right-10 w-48 h-48 md:w-64 md:h-64 bg-white border-4 border-black rotate-6 shadow-comic z-10 transition-all">
                        <img src="../images/174/friends_grayscaled.jpg" 
                             onerror="this.src='https://images.unsplash.com/photo-1521737604893-d14cc237f11d?q=80&w=2084&auto=format&fit=crop'"
                             class="w-full h-full object-cover grayscale">
                        <div class="absolute top-2 left-2 bg-hero-red text-white font-display px-2 text-xs md:text-sm">FLASHBACK</div>
                    </div>
                    
                    <!-- Card 2 -->
                    <div class="absolute bottom-0 left-4 md:left-10 w-56 h-56 md:w-72 md:h-72 bg-white border-4 border-black -rotate-3 shadow-comic z-20 transition-all">
                        <img src="../images/174/friends_reel_image.jpg" 
                             onerror="this.src='https://images.unsplash.com/photo-1543269865-cbf427effbad?q=80&w=2070&auto=format&fit=crop'"
                             class="w-full h-full object-cover">
                        <div class="absolute bottom-2 right-2 bg-hero-yellow text-black font-display px-2 text-xs md:text-sm">UNCENSORED</div>
                    </div>
                </div>
            </div>
        </div>


        <!-- SECTION: FINAL BOSS -->
        <div class="mt-20 md:mt-32 mb-8 trigger-block">
            <div class="border-4 md:border-8 border-black bg-white p-2 shadow-[10px_10px_0px_#0a0a0a] md:shadow-[20px_20px_0px_#0a0a0a]">
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-0 border-2 md:border-4 border-black">
                    <!-- Box 1 -->
                    <div class="p-6 md:p-8 bg-hero-red text-white flex flex-col justify-center items-center text-center border-b-2 md:border-b-0 md:border-r-4 border-black relative overflow-hidden">
                        <div class="absolute inset-0 opacity-10" style="background-image: repeating-linear-gradient(45deg, #000 0, #000 10px, transparent 10px, transparent 20px);"></div>
                        <h3 class="font-display text-4xl md:text-5xl relative z-10">LEVEL UP</h3>
                        <p class="font-hand text-xl md:text-2xl mt-2 relative z-10">Difficulty: HARD</p>
                    </div>

                    <!-- Box 2 -->
                    <div class="p-6 md:p-8 bg-hero-yellow text-black flex flex-col justify-center items-center text-center">
                        <h3 class="font-display text-4xl md:text-5xl">VARSITY ARC</h3>
                        <p class="font-bengali text-base md:text-lg mt-4 font-bold">
                            ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™‡¶æ‡¶∏, ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶§‡ßç‡¶¨, ‡¶®‡¶§‡ßÅ‡¶® ‡¶ü‡ßá‡¶®‡¶∂‡¶®‚ÄîCGPA ‡¶®‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶è‡¶ï ‡¶®‡¶§‡ßÅ‡¶® ‡¶≠‡¶Ø‡¶º‡•§
                        </p>
                    </div>
                </div>

                <div class="p-6 md:p-8 text-center bg-white">
                    <p class="font-bengali text-lg md:text-2xl text-gray-800 font-bold max-w-2xl mx-auto">
                        "‡¶è‡¶á ‡¶¶‡ßå‡¶°‡¶º‡ßá ‡¶™‡¶æ‡¶∞‡¶´‡ßá‡¶ï‡ßç‡¶ü ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶á ‡¶Ü‡¶∏‡¶≤ ‡¶®‡¶æ; ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ, ‡¶∏‡ßç‡¶Æ‡ßÉ‡¶§‡¶ø ‡¶Ü‡¶∞ ‡¶õ‡ßã‡¶ü ‡¶õ‡ßã‡¶ü ‡¶™‡¶æ‡¶ó‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ó‡ßÅ‡¶≤‡ßã‡¶á ‡¶è‡¶ï‡¶¶‡¶ø‡¶® ‡¶∏‡¶¨‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶¶‡¶æ‡¶Æ‡¶ø ‡¶π‡¶Ø‡¶º‡ßá ‡¶â‡¶†‡¶¨‡ßá‡•§"
                    </p>
                </div>
            </div>
        </div>

    </main>

    <!-- FOOTER -->
    <footer class="bg-black text-white pt-16 pb-10 border-t-4 md:border-t-8 border-hero-red relative overflow-hidden">
        <div class="absolute inset-0 bg-[radial-gradient(circle,_#333_1px,_transparent_1px)] bg-[length:20px_20px] opacity-20"></div>

        <div class="max-w-4xl mx-auto text-center relative z-10 px-4">
            <h2 class="font-display text-5xl md:text-8xl text-hero-yellow mb-8 drop-shadow-md">
                TO BE CONTINUED...
            </h2>
            
            <div class="flex flex-col md:flex-row justify-center items-center gap-6 md:gap-8 mb-12">
                <div class="border-2 border-white p-3 md:p-4 w-full md:w-64 rotate-1 md:rotate-2">
                    <p class="font-display text-lg md:text-xl mb-1">JAWAD WILL RETURN</p>
                    <p class="font-body text-sm text-gray-400">In Issue #INSERT_UNIVERSITY_ROLL</p>
                </div>
                <div class="border-2 border-white p-3 md:p-4 w-full md:w-64 -rotate-1 md:-rotate-2">
                    <p class="font-display text-lg md:text-xl mb-1">CREDITS</p>
                    <p class="font-body text-sm text-gray-400">Story: Life &bull; Art: Memories</p>
                </div>
            </div>

            <button onclick="handleExit(event, '../index.html')" class="bg-hero-red border-2 border-white text-white px-8 py-3 font-display text-xl uppercase tracking-widest hover:bg-white hover:text-black transition-colors cursor-pointer">
                Close Issue
            </button>
        </div>
    </footer>

    <script>
        lucide.createIcons();
        gsap.registerPlugin(ScrollTrigger);

        // RESET SCROLL ON LOAD
        window.scrollTo(0, 0);

        // 1. SETUP HERO ANIMATION (Paused initially)
        const heroTimeline = gsap.timeline({ paused: true });
        heroTimeline
            .from("h1", { y: 50, opacity: 0, duration: 1, ease: "power3.out" })
            .from(".panel, .bubble", { scale: 0.9, opacity: 0, duration: 0.8, stagger: 0.2, ease: "back.out(1.5)" }, "-=0.5");

        // 2. OPENING ANIMATION (Splash Screen) - FIXED VISIBILITY
        const splash = document.getElementById('splash-screen');
        
        // Use fromTo to ensure visibility state starts correctly regardless of CSS
        gsap.fromTo(".splash-item", 
            { opacity: 0, y: 30 },
            {
                opacity: 1,
                y: 0,
                duration: 0.8,
                stagger: 0.2,
                ease: "power2.out",
                delay: 0.3
            }
        );

        // Click to Open
        splash.addEventListener('click', () => {
            // Play Audio
            const audio = document.getElementById('bg-music');
            if (audio) {
                audio.volume = 0.5;
                audio.play().catch(e => console.log("Audio play failed", e));
            }

            const tl = gsap.timeline();
            
            // Text zooms out massive
            tl.to(".splash-item", { scale: 2, opacity: 0, duration: 0.4, ease: "power2.in" });
            
            // BG Fades/Scales
            tl.to(splash, { 
                opacity: 0, 
                scale: 1.1,
                duration: 0.5, 
                onComplete: () => {
                    splash.style.display = 'none';
                    // UNLOCK SCROLL ONLY NOW
                    document.body.classList.remove('is-locked');
                    document.body.style.overflow = 'auto'; 
                    document.body.style.overflowX = 'hidden'; 
                    
                    heroTimeline.play(); 
                    initScrollTriggers(); 
                }
            }, "-=0.2");
        });

        // 3. CLOSING ANIMATION - FADE TO BLACK OVERLAY
        window.handleExit = (e, url) => {
            if(e) e.preventDefault();
            
            const overlay = document.getElementById('transition-overlay');
            
            // Play sound effect logic here if needed
            
            gsap.to(overlay, {
                opacity: 1,
                duration: 0.8,
                ease: "power2.inOut",
                onComplete: () => {
                    window.location.href = url;
                }
            });
            
            // Slight zoom out of content for effect
            gsap.to("main, header, footer", {
                scale: 0.98,
                filter: "grayscale(100%)",
                duration: 0.8
            });
        };

        // 4. SCROLL TRIGGERS 
        function initScrollTriggers() {
            const blocks = document.querySelectorAll('.trigger-block');
            
            // Explicitly set initial state to avoid "flash" or "invisible" bugs
            gsap.set(blocks, { opacity: 0, y: 50 });

            blocks.forEach((block) => {
                gsap.to(block, { 
                    scrollTrigger: {
                        trigger: block,
                        start: "top 90%", 
                        toggleActions: "play none none none"
                    },
                    y: 0,
                    opacity: 1,
                    duration: 0.6,
                    ease: "power2.out"
                });
            });

            // Parallax (Desktop Only)
            if (window.innerWidth > 768) {
                gsap.utils.toArray(".panel-image").forEach((img) => {
                    gsap.to(img, {
                        scrollTrigger: {
                            trigger: img.parentElement,
                            start: "top bottom",
                            end: "bottom top",
                            scrub: 1
                        },
                        y: -20,
                        ease: "none"
                    });
                });
            }
        }
    </script>
</body>
</html>